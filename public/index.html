<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TiltSphere</title>
  <link rel="stylesheet" href="/styles/main.css" />
</head>
<body>
  <div id="gameRoot">
    <div class="header">
      <div class="title">TILTSPHERE</div>
      <div class="stats">
        <div class="stat-item">Level: <span id="level">1</span><span id="difficultyBadge" class="difficulty-badge difficulty-easy">EASY</span></div>
        <div class="stat-item">Score: <span id="score">0</span></div>
        <div class="stat-item">Best: <span id="bestScore">0</span></div>
      </div>
      <div class="progress-meter">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div style="font-size: 10px;">Progress: <span id="progressLevel">0%</span> â€¢ <span id="achievementCount">0</span> achievements</div>
      <div class="timer" id="timer" style="display: none;">Time: <span id="timeLeft">30</span>s</div>
    </div>

    <div class="game-container" id="gameContainer">
      <div class="ball" id="ball"></div>
      <div class="funnel" id="funnel"></div>
      <div class="save-indicator" id="saveIndicator">Progress Saved!</div>
    </div>

    <div class="controls">
      <button class="start-button" id="startButton">START GAME</button>
      <div class="menu-buttons" id="menuButtons" style="display: none;">
        <button class="menu-button" onclick="game.showTutorial()">Tutorial</button>
        <button class="menu-button" onclick="game.pauseGame()">Pause</button>
        <button class="menu-button" onclick="game.saveGame()">Save</button>
        <button class="menu-button" onclick="game.toggleSettings()">Settings</button>
        <button class="menu-button" onclick="game.resetProgress()">Reset</button>
      </div>

      <div class="settings-panel" id="settingsPanel" style="display: none;">
        <div class="setting-item">
          <span>Sound Effects</span>
          <div class="toggle-switch" id="soundToggle" onclick="game.toggleSound()"></div>
        </div>
        <div class="setting-item">
          <span>Haptic Feedback</span>
          <div class="toggle-switch active" id="hapticToggle" onclick="game.toggleHaptic()"></div>
        </div>
        <div class="setting-item">
          <span>Ball Trail</span>
          <div class="toggle-switch active" id="trailToggle" onclick="game.toggleTrail()"></div>
        </div>
        <div class="setting-item">
          <span>Sensitivity: <span id="sensitivityValue">50</span>%</span>
          <input type="range" min="10" max="100" value="50" id="sensitivitySlider" onchange="game.setSensitivity(this.value)">
        </div>
      </div>

      <div>Tilt your device to guide the ball into the target</div>
      <div style="margin-top: 10px; font-size: 10px;">
        Use arrow keys on desktop â€¢ Double-tap to pause
      </div>
      <div class="achievements" id="achievements"></div>
      <div style="margin-top: 5px; font-size: 10px;" id="saveStatus"></div>
    </div>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorialOverlay">
      <h2>Welcome to TiltSphere!</h2>
      <div class="tutorial-step"><strong>ðŸŽ¯ Objective:</strong><br>Guide the red ball into the green target</div>
      <div class="tutorial-step"><strong>ðŸ“± Controls:</strong><br>Tilt your device or use arrow keys</div>
      <div class="tutorial-step"><strong>âš¡ Tips:</strong><br>â€¢ Gentle movements work best<br>â€¢ Watch out for obstacles</div>
      <button class="start-button" onclick="game.closeTutorial()">GOT IT!</button>
    </div>

    <!-- Pause Overlay -->
    <div class="pause-overlay" id="pauseOverlay">
      <h2>GAME PAUSED</h2>
      <p>Take a breather!</p>
      <div class="menu-buttons">
        <button class="menu-button" onclick="game.resumeGame()">Resume</button>
        <button class="menu-button" onclick="game.restartLevel()">Restart Level</button>
        <button class="menu-button" onclick="game.showTutorial()">Help</button>
      </div>
    </div>

    <!-- Level Complete Overlay -->
    <div class="level-complete" id="levelComplete">
      <h2 id="completeTitle">LEVEL COMPLETE</h2>
      <p id="levelMessage"></p>
      <button class="start-button" onclick="nextLevel()">NEXT LEVEL</button>
    </div>
  </div>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
